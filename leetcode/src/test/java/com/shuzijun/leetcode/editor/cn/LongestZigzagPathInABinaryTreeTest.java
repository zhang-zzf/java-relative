//ç»™ä½ ä¸€æ£µä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ï¼ŒäºŒå‰æ ‘ä¸­çš„äº¤é”™è·¯å¾„å®šä¹‰å¦‚ä¸‹ï¼š 
//
// 
// é€‰æ‹©äºŒå‰æ ‘ä¸­ ä»»æ„ èŠ‚ç‚¹å’Œä¸€ä¸ªæ–¹å‘ï¼ˆå·¦æˆ–è€…å³ï¼‰ã€‚ 
// å¦‚æžœå‰è¿›æ–¹å‘ä¸ºå³ï¼Œé‚£ä¹ˆç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹çš„çš„å³å­èŠ‚ç‚¹ï¼Œå¦åˆ™ç§»åŠ¨åˆ°å®ƒçš„å·¦å­èŠ‚ç‚¹ã€‚ 
// æ”¹å˜å‰è¿›æ–¹å‘ï¼šå·¦å˜å³æˆ–è€…å³å˜å·¦ã€‚ 
// é‡å¤ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ï¼Œç›´åˆ°ä½ åœ¨æ ‘ä¸­æ— æ³•ç»§ç»­ç§»åŠ¨ã€‚ 
// 
//
// äº¤é”™è·¯å¾„çš„é•¿åº¦å®šä¹‰ä¸ºï¼šè®¿é—®è¿‡çš„èŠ‚ç‚¹æ•°ç›® - 1ï¼ˆå•ä¸ªèŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ä¸º 0 ï¼‰ã€‚ 
//
// è¯·ä½ è¿”å›žç»™å®šæ ‘ä¸­æœ€é•¿ äº¤é”™è·¯å¾„ çš„é•¿åº¦ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//
// è¾“å…¥ï¼šroot = [1,null,1,1,1,null,null,1,1,null,1,null,null,null,1,null,1]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šè“è‰²èŠ‚ç‚¹ä¸ºæ ‘ä¸­æœ€é•¿äº¤é”™è·¯å¾„ï¼ˆå³ -> å·¦ -> å³ï¼‰ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//
// è¾“å…¥ï¼šroot = [1,1,1,null,1,null,null,1,1,null,1]
//è¾“å‡ºï¼š4
//è§£é‡Šï¼šè“è‰²èŠ‚ç‚¹ä¸ºæ ‘ä¸­æœ€é•¿äº¤é”™è·¯å¾„ï¼ˆå·¦ -> å³ -> å·¦ -> å³ï¼‰ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// è¾“å…¥ï¼šroot = [1]
//è¾“å‡ºï¼š0
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// æ¯æ£µæ ‘æœ€å¤šæœ‰ 50000 ä¸ªèŠ‚ç‚¹ã€‚ 
// æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨ [1, 100] ä¹‹é—´ã€‚ 
// 
// Related Topics æ ‘ æ·±åº¦ä¼˜å…ˆæœç´¢ åŠ¨æ€è§„åˆ’ äºŒå‰æ ‘ ðŸ‘ 67 ðŸ‘Ž 0


package com.shuzijun.leetcode.editor.cn;

import static org.assertj.core.api.BDDAssertions.then;

import java.util.concurrent.atomic.AtomicInteger;
import org.junit.jupiter.api.Test;


public class LongestZigzagPathInABinaryTreeTest {

  final Solution solution = new Solution();

  @Test
  void givenNormal_when_thenSuccess() {
    final TreeNode root = new TreeNode(1,
        null,
        new TreeNode(2,
            new TreeNode(3),
            new TreeNode(4,
                new TreeNode(5,
                    null,
                    new TreeNode(7,
                        null,
                        new TreeNode(8))),
                new TreeNode(6))));
    then(solution.longestZigZag(root)).isEqualTo(3);
  }

  //leetcode submit region begin(Prohibit modification and deletion)

  /**
   * Definition for a binary tree node. public class TreeNode { int val; TreeNode left; TreeNode
   * right; TreeNode() {} TreeNode(int val) { this.val = val; } TreeNode(int val, TreeNode left,
   * TreeNode right) { this.val = val; this.left = left; this.right = right; } }
   */
  class Solution {

    public int longestZigZag(TreeNode root) {
      AtomicInteger ans = new AtomicInteger(0);
      if (root == null) {
        return ans.get();
      }
      dfs(root.left, 0, 1, ans);
      dfs(root.right, 1, 1, ans);
      return ans.get();
    }

    private void dfs(TreeNode root, int dir, int cnt, AtomicInteger ans) {
      if (root == null) {
        return;
      }
      if (cnt > ans.get()) {
        ans.set(cnt);
      }
      if (dir == 0) {
        dfs(root.left, 0, 1, ans);
        dfs(root.right, 1, cnt + 1, ans);
      } else {
        dfs(root.left, 0, cnt + 1, ans);
        dfs(root.right, 1, 1, ans);
      }
    }

  }
//leetcode submit region end(Prohibit modification and deletion)


}